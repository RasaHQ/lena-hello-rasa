version: "3.1"


actions:
  - list_transactions

slots:
  transactions_list:
    type: text
    mappings:
      - type: controlled
  list_transactions_next_option:
    type: categorical
    values:
      - show_scheduled_transactions
      - show_all_transactions
      - none_of_the_above
    mappings:
      - type: from_llm
  full_transaction_list:
    type: bool
    mappings:
      - type: controlled
    initial_value: false

responses:
  utter_scheduled_transactions:
    - text: "Here are your scheduled transactions:\n\n {transactions_list}"
      translation:
        fr: "Voici vos transactions programmées :\n\n {transactions_list}"
        de: "Hier sind Ihre geplanten Transaktionen:\n\n {transactions_list}"
  utter_transactions:
    - condition: slots.full_transaction_list
      text: "Here is the full list of transactions:\n\n {transactions_list}"
      translation:
        fr: "Voici la liste complète des transactions :\n\n {transactions_list}"
        de: "Hier ist die vollständige Liste der Transaktionen:\n\n {transactions_list}"
    - condition: not slots.full_transaction_list
      text: "Your last recent transactions are:\n\n {transactions_list}"
      translation:
        fr: "Vos dernières transactions récentes sont :\n\n {transactions_list}"
        de: "Ihre letzten Transaktionen sind:\n\n {transactions_list}"
  utter_no_next_option:
    - text: "Ok."
      translation:
        fr: "D'accord."
        de: "Okay."
  utter_ask_list_transactions_next_option:
    - text: Would you like to do any of the following?
      translation:
        fr: Souhaitez-vous faire l'une des actions suivantes ?
        de: Möchten Sie eine der folgenden Aktionen durchführen?
      buttons:
        - payload: "/SetSlots(list_transactions_next_option=show_scheduled_transactions)"
          title: "Show scheduled transactions"
          translation:
            fr:
              title: "Afficher les transactions programmées"
              payload: "/SetSlots(list_transactions_next_option=show_scheduled_transactions)"
            de:
              title: "Geplante Transaktionen anzeigen"
              payload: "/SetSlots(list_transactions_next_option=show_scheduled_transactions)"
        - payload: "/SetSlots(list_transactions_next_option=show_all_transactions)"
          title: "List all transactions"
          translation:
            fr:
              title: "Lister toutes les transactions"
              payload: "/SetSlots(list_transactions_next_option=show_all_transactions)"
            de:
              title: "Alle Transaktionen auflisten"
              payload: "/SetSlots(list_transactions_next_option=show_all_transactions)"
        - payload: "/SetSlots(list_transactions_next_option=none_of_the_above)"
          title: "None of the above"
          translation:
            fr:
              title: "Aucune des options ci-dessus"
              payload: "/SetSlots(list_transactions_next_option=none_of_the_above)"
            de:
              title: "Keine der oben genannten"
              payload: "/SetSlots(list_transactions_next_option=none_of_the_above)"
